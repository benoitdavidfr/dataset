title: Schéma JSON des feuilles de styles utilisées par Styler
$id: 'https://dataset.geoapi.fr/styler.yaml'
$schema: 'http://json-schema.org/draft-07/schema#'
type: object
required: [title, description,titleOfDataset, descriptionOfDataset,$schema,themes]
additionalProperties: false
properties:
  title: {description: titre de la feuille de style, type: string}
  description: {description: description de la feuille de style, type: string}
  titleOfDataset: {description: "titre du jeu de données issu du stylage", type: string}
  descriptionOfDataset: {description: "description du jeu de données issu du stylage", type: string}
  eof: {description: signalement de la fin du fichier optionnel}
  themes:
    description: |
      liste de thèmes indexés par leur nom.
      Une feuille de style est décomposée en thèmes, chacun regroupant des objets de même nature thématique.
    type: object
    additionalProperties: false
    patternProperties:
      '^[-A-Za-z0-9_]+$':
        description: |
          Un thème associe un style à des collections de JdD ; de plus un JdD n'est valide que pour une certaine plage de zoom.
        type: object
        additionalProperties: false
        properties:
          title: {description: titre du thème, type: string}
          datasets:
            description: info par JdD avec en clé le nom du JdD
            type: object
            additionalProperties: false
            patternProperties:
              '^[-A-Za-z0-9_]+$':
                description: Info sur le JdD
                type: object
                required: [collections]
                additionalProperties: false
                properties:
                  minZoom: {description: niveau de zoom min à partir duquel le JdD est affiché, type: integer}
                  maxZoom: {description: niveau de zoom max jusqu'au quel le JdD est affiché, type: integer}
                  collections:
                    description: infos sur les collections indexées par le nom de la collection
                    type: object
                    additionalProperties: false
                    patternProperties:
                      '^[-A-Za-z0-9_]+$':
                        type: object
                        required: [style]
                        additionalProperties: false
                        properties:
                          style:
                            description: le style qui sera associé aux features de cette section
                            type: object
                            required: [color]
                            additionalProperties: false
                            properties:
                              color: {description: couleur, type: string}
                              weight: {description: épaisseur, type: integer}
                              opacity:
                                description: degré d'opacité, entre 0 transparent et 1 opaque
                                type: number
                                minimum: 0
                                maximum: 1
eof:
